#!/bin/bash

INT="LVDS-0"
EXT="VGA-0 DVI-0"
XRANDR_OUTPUT=$(xrandr)

for OUTPUT in $EXT; do
	if [ `echo "$XRANDR_OUTPUT" | sed -rne "s/$OUTPUT connected ([0-9]+x[0-9]+\+[0-9]+\+[0-9]+)?.*/\1/p"` ]; then
		echo "Turning off $OUTPUT …";
		xrandr --output $OUTPUT --off;
	else
		if [ "`echo "$XRANDR_OUTPUT" | sed -rne "s/$OUTPUT ((dis)?connected) ([0-9]+x[0-9]+\+[0-9]+\+[0-9]+)?.*/\1/p"`" == "connected" ]; then
			echo "Turning on $OUTPUT …";
			xrandr --output $OUTPUT --preferred --below $INT;
			#xrandr --output $OUTPUT --brightness 0.9;
		else
			echo "Output $OUTPUT not connnected.";
		fi
	fi
done

